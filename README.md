.. _Введение:

Введение
========

Этот документ описывает телеграм-бота, предназначенного для анализа акций на фондовом рынке. Бот предоставляет информацию о текущих лидерах роста и падения акций, а также анализ отдельных акций на основе различных финансовых показателей.
2. Установка и Настройка

diff
Copy code
.. _Установка и Настройка:

Установка и Настройка
======================

Для работы бота необходим Python версии 3.6 или выше, а также установленные библиотеки requests, BeautifulSoup и pyTelegramBotAPI. 

Для установки зависимостей используйте команду:
bash
Copy code
pip install requests BeautifulSoup4 pyTelegramBotAPI
3. Использование

bash
Copy code
.. _Использование:

Использование
=============

После запуска бота введите команду /start, чтобы начать работу. Доступны следующие команды: "Топ акций по росту и падению" и "История поиска".
4. Описание Кода

css
Copy code
.. _Описание Кода:

Описание Кода
=============

Функция `scrape_stock_leaders(url)`: 
   Описание: Парсит данные о лидерах роста и падения акций с указанного URL.
   Параметры: 
      - url (str): Ссылка на веб-страницу для парсинга.
   Возвращает: Список словарей с информацией о акциях.

Функция `get_text_messages(message)`: 
   Описание: Обрабатывает текстовые сообщения от пользователей.
   Параметры: 
      - message: Объект сообщения от пользователя.
5. Примеры Работы Бота

yaml
Copy code
.. _Примеры Работы Бота:

Примеры Работы Бота
====================

Пример 1: Пользователь отправляет команду "Топ акций по росту и падению", бот отвечает списком акций.

Пример 2: Пользователь вводит тикер акции, бот предоставляет анализ акции на основе финансовых показателей.
6. Обработка Ошибок

diff
Copy code
.. _Обработка Ошибок:

Обработка Ошибок
=================

Бот обрабатывает ошибки, связанные с недоступностью веб-ресурсов или неверными данными, отправляя соответствующее сообщение пользователю.
7. Контактная Информация

diff
Copy code
.. _Контактная Информация:

формат reST
def start(message):
    """Отправляет приветственное сообщение и показывает клавиатуру.

    Функция активируется при получении команды /start и отправляет пользователю приветственное сообщение вместе с клавиатурой для навигации.

    :param message: Объект сообщения от пользователя.
    :return: Приветственное сообщение и клавиатура.
    
    :example:

    >>> message = {'text': '/start'}
    >>> start(message)
    'Приветвую! Для начала работы бота введите тикет акции...'
    """
def get_text_messages(message):
    """Обрабатывает текстовые сообщения от пользователей.

    Функция отвечает на текстовые сообщения пользователей, предоставляя информацию о лидерах роста и падения акций, историю поиска или анализ акций в зависимости от запроса.

    :param message: Объект сообщения от пользователя.
    :raise: ValueError если сообщение не может быть обработано
    :return: Ответ пользователю в зависимости от запроса.
    
    :example:

    >>> message = {'text': 'AAPL'}
    >>> get_text_messages(message)
    'Анализ акции AAPL: ...'
    """
def scrape_stock_leaders(url):
    """Извлекает данные о лидерах роста и падения акций.

    Функция парсит веб-страницу, заданную URL, и извлекает информацию о лидерах роста и падения акций.

    :param str url: URL веб-страницы для парсинга.
    :return: Список словарей, содержащих информацию о акциях.
    :rtype: list of dict
    
    :example:

    >>> url = 'https://investfunds.ru/stocks-leaders/'
    >>> scrape_stock_leaders(url)
    [{'name': 'Stock1', 'percent': '+5%', 'link': 'https://...'}, ...]
    """